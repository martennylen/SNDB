<h3>Hej {{ user.username }}!</h3>

<form novalidate name="addGameForm" style="padding: 0 20px">
	<span style="font-weight: bold">Konsol:</span> 
	<select style="width: 100%;padding: 10px;border:0" ng-model="game.console" ng-options="c.id as c.name for c in consoles" ng-init="game.console = consoles[0].id">
	</select>
    <span style="font-weight: bold">Namn:</span>
    <input style="width: 100%;padding: 10px;border:0" type="text" placeholder="Spelnamn" ng-model="game.name" required />
    <span style="font-weight: bold">Kod:</span>
    <input style="width: 100%;padding: 10px;border:0" type="text" placeholder="Spelkod" ng-model="game.code" required />
    <span style="font-weight: bold">Utgivare:</span>
    <input style="width: 100%;padding: 10px;border:0" type="text" placeholder="Spelutgivare" ng-model="game.publisher" required />

    <span style="font-weight: bold">Attribut:</span>
    <div style="background-color: #fff; padding: 10px; border-radius: 6px;">
        <ul style="margin: 0;display: inline-block">
            <li style="display: inline-block" ng-repeat="attr in attributes">
                <span>{{attr.longName}}</span>
                <input type="checkbox" ng-model="attr.selected">
            </li>
        </ul>
    </div>
    
    <span style="font-weight: bold">Extra:</span>
    <div style="background-color: #fff; padding: 10px; border-radius: 6px;">
        <input style="width: 90%; padding: 5px; border: 1px solid #74AFAD" type="text" placeholder="Extratillbeh&ouml;r" ng-model="currentExtra" />
        <button class="yeah" ng-click="handleExtra(currentExtra)" ng-disabled="currentExtra.length === 0">L&auml;gg till</button>
        <ul style="margin: 0">
            <li style="display: inline-block" ng-repeat="attr in game.attr.extras">
                <span>{{attr.name}}</span>
                <button class="danger" ng-click="handleExtra(attr)">Ta bort</button>
            </li>
        </ul>
    </div>

    <span style="font-weight: bold">Region:</span>
    <div style="background-color: #fff;padding:10px;border-radius: 6px">
        <ul style="margin-bottom: 0">
            <li ng-repeat="r in regions" style="display: inline"><label ng-class="{'selected': currentRegions.main.id === r.id}" for="{{r.id}}">{{r.name}}</label><input type="radio" id="{{r.id}}" ng-model="currentRegions.main" ng-value="r" ng-change="regionChanged(r)"></li>
        </ul>
        <ul style="margin-left: 20px;margin-top: 0">
            <li ng-repeat="sr in currentRegions.main.regions" style="display: inline"><label ng-class="{'selected': currentRegions.sub.id === sr.id}" for="{{sr.id}}">{{sr.name}}</label><input type="radio" id="{{sr.id}}" ng-model="currentRegions.sub" ng-value="sr"></li>
        </ul>
    </div>
    <div style="margin-top:10px">
        <!--<button ng-click="addGame(game)" ng-disabled="!game.regions.length" ng-class="{yeah: game.regions.length}">Spara</button>-->
        <button ng-click="addGame(game)" ng-disabled="!validateFields()" ng-class="{'yeah': validateFields()}">Spara</button>
        <span ng-show="postMessage" ng-style="{color: 'green'}">{{ postMessage }}</span>
    </div>
</form>