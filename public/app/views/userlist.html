<div class="view-wrapper">
    <input type="text" class="search-holder" placeholder="Sök spel..." ng-model="search.name" />
    <h3 style="display:inline">{{filtered.length}} spel hittades</h3>
    <ul>
        <li ng-repeat="r in regions" ng-style="{display: 'inline'}">
            <label for="{{r.id}}">{{r.name}}</label>
            <input id="{{r.id}}" type="checkbox" ng-checked="r.selected" ng-model="filterBoxes[r.id]">
        </li>
    </ul>
    <ul id="games">
        <li ng-repeat="game in filtered = ((games | filter:search:strict) | codeFilter:filterBoxes)" ng-class-odd="'odd'" ng-class-even="'even'">
        <!--<li ng-repeat="game in games" ng-class-odd="'odd'" ng-class-even="'even'">-->
            <a href ng-click="editGame(game.id)">
                <div class="game-wrapper">
                    <div class="game-name">
                        <span>
                            {{game.name}}
                        </span>
                    </div><div class="game-attr">
                        <span ng-repeat="attr in game.attr.common" ng-style="{marginRight: '10px'}" ng-class="{exists: attr.status}">{{attr.id.toUpperCase()}}</span>
                    </div><div class="game-note">
                        <span>{{game.note}}</span>
                    </div>
                </div>
            </a>
            <div class="clearfix"></div>
            <div class="game-content" ng-show="game.id === selected.id">
                <ul>
                    <li ng-repeat="attr in game.attr.common" style="padding: 0; display: inline; margin-right: 20px">
                        <label style="font-size: 30px" for="{{game.id + '_' + attr.id}}" ng-class="{exists: attr.status}">{{attr.longName}}:</label>
                        <input id="{{game.id + '_' + attr.id}}" type="checkbox" ng-model="attr.status" ng-checked="attr.status" ng-change="attrChange(game.item, 'common', $index, attr.status)">
                    </li>
                </ul>
                <div ng-if="game.attr.extras.length">
                    <ul>
                        <li ng-repeat="attr in game.attr.extras" style="padding: 0; display: inline; margin-right: 20px">
                            <label style="font-size: 30px; color: #6495ed" for="{{game.id + '_' + attr.id}}">{{attr.id.substring(0,1).toUpperCase() + attr.id.substring(1, attr.id.length)}}:</label>
                            <input id="{{game.id + '_' + attr.id}}" type="checkbox" ng-model="attr.status" ng-checked="attr.status" ng-change="attrChange(game.item, 'extras', $index, attr.status)">
                        </li>
                    </ul>
                </div>
            </div>
        </li>
    </ul>
    <div ui-view></div>
</div>